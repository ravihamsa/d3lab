<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>d3</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            font-size: 13px;
            list-style: none;
            font-family: 'Open Sans', 'Segoe UI', 'Droid Sans', Tahoma, Arial, sans-serif;
        }

        line {
            stroke: #ccc;
            stroke-width: 0.5;

        }

        rect {
            stroke: #ccc;
            stroke-width: 0.5;
        }

        text {
            font-size: 16px;
        }

        #timeLine {
            position: fixed;
            z-index: 5;
            width:100%;
        }

        .lbp-element {
            position: absolute;
            top:90px;
            width:100%;
            z-index: 4;
        }

        .scale-list {
            padding: 10px;
        }
        .scale-list li{
            display: inline-block;
            margin-right: 5px;

        }
        .scale-list li a {
            display: block;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
            text-decoration: none;
            color:#333;
        }
    </style>
    <script src="d3.js"></script>
</head>
<body>

<ul class="scale-list">
    <li><a href="javascript:setScale(0)">day</a> </li>
    <li><a href="javascript:setScale(1)">month</a> </li>
    <li><a href="javascript:setScale(2)">quarter</a> </li>
    <li><a href="javascript:setScale(3)">year</a> </li>
</ul>

<ul class="scale-list">
    <li><a href="javascript:setLevel(0)">1</a> </li>
    <li><a href="javascript:setLevel(1)">2</a> </li>
    <li><a href="javascript:setLevel(2)">3</a> </li>
    <li><a href="javascript:setLevel(3)">4</a> </li>
</ul>

<div id="visualization" style="height: 600px;;"></div>

<script src="data.js"></script>
<script src="timeline.js"></script>
<script src="lbpElement.js"></script>
<script src="engine.js"></script>

<script>

    var setScale = function(scale){
        visEngine.setConfigs({scale:scale})
    }

    var setLevel = function(level){
        visEngine.setConfigs({level:level})
    }


    $element = [document.getElementById('visualization')];



    visEngine.setConfigs ({ container:d3.select('#visualization')})

    visEngine.setConfig('workStreamData', data);

    visEngine.start();




    setTimeout(function () {
        for (var i = 0; i < 20; i++) {
            (function (tmpi) {
                setTimeout(function () {
                    //visEngine.setConfigs({offset: tmpi * -1});
                    //lbpWidget.renderTree();
                }, tmpi * 100)
            })(i)

        }
    },1000);


//    setTimeout(function () {
//        visEngine.setConfigs({scale:1})
//    }, 2000)
//
//    setTimeout(function () {
//        visEngine.setConfigs({scale:2})
//    }, 3000)
//
//    setTimeout(function () {
//        visEngine.setConfigs({scale:3})
//    }, 4000)

/*
    for(var i=0; i<200; i++){
        (function(tmpi){
            setTimeout(function(){
                timeLineWidget.setOffset(tmpi*2);
                console.log(tmpi);
            }, tmpi*50)
        })(i)

    }

    setTimeout(function () {
        timeLineWidget.setOffset(4000);
        timeLineWidget.setConfigs({scale:1})
    }, 1000)*/
/*





   setTimeout(function () {
        //widget.setOffset(4000);
        widget.setConfigs({scale:1})
    }, 2000)

    setTimeout(function () {
        //widget.setOffset(4000);
        widget.setConfigs({scale:0})
    }, 3000)


    setTimeout(function () {
        widget.setOffset(30);
        widget.setConfigs({scale:3})
    }, 4000)

    setTimeout(function () {
        //widget.setOffset(4000);
        widget.setConfigs({scale:1})
    }, 5000)

    setTimeout(function () {
        //widget.setOffset(4000);
        //widget.setConfigs({scale:0})
    }, 6000)

    setTimeout(function () {
        //widget.setOffset(4000);
        //widget.setConfigs({scale:2})
    }, 7000)*/
</script>

</body>
</html>